{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\React-Project\\\\myapp4\\\\src\\\\contexts\\\\TransactionContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TransactionContext = /*#__PURE__*/createContext();\nexport const TransactionProvider = ({\n  children\n}) => {\n  _s();\n  const [transactions, setTransactions] = useState(() => {\n    const savedTransactions = localStorage.getItem(\"transactions\");\n    return savedTransactions ? JSON.parse(savedTransactions) : [];\n  });\n  useEffect(() => {\n    localStorage.setItem(\"transactions\", JSON.stringify(transactions));\n  }, [transactions]);\n  const addTransaction = transaction => {\n    setTransactions(prevTransactions => [...prevTransactions, {\n      ...transaction,\n      id: Date.now()\n    }]);\n  };\n  const deleteTransaction = id => {\n    setTransactions(prevTransactions => prevTransactions.filter(transaction => transaction.id !== id));\n  };\n  const importTransactions = newTransactions => {\n    setTransactions(newTransactions);\n  };\n  const getBalance = () => {\n    return transactions.reduce((acc, curr) => acc + curr.amount, 0).toFixed(2);\n  };\n\n  // Function to handle recurring transactions\n  const processRecurringTransactions = () => {\n    const today = new Date().toISOString().split('T')[0];\n    transactions.forEach(transaction => {\n      if (transaction.isRecurring && transaction.nextDate === today) {\n        // Create a new transaction for today\n        const newTransaction = {\n          ...transaction,\n          id: Date.now(),\n          date: today\n        };\n        addTransaction(newTransaction);\n\n        // Update the next date based on frequency\n        const nextDate = new Date(today);\n        switch (transaction.frequency) {\n          case 'daily':\n            nextDate.setDate(nextDate.getDate() + 1);\n            break;\n          case 'weekly':\n            nextDate.setDate(nextDate.getDate() + 7);\n            break;\n          case 'monthly':\n            nextDate.setMonth(nextDate.getMonth() + 1);\n            break;\n          case 'yearly':\n            nextDate.setFullYear(nextDate.getFullYear() + 1);\n            break;\n          default:\n            break;\n        }\n        transaction.nextDate = nextDate.toISOString().split('T')[0];\n      }\n    });\n  };\n\n  // Check for recurring transactions daily\n  useEffect(() => {\n    processRecurringTransactions();\n    const interval = setInterval(processRecurringTransactions, 24 * 60 * 60 * 1000);\n    return () => clearInterval(interval);\n  }, [transactions]);\n  return /*#__PURE__*/_jsxDEV(TransactionContext.Provider, {\n    value: {\n      transactions,\n      addTransaction,\n      deleteTransaction,\n      importTransactions,\n      getBalance\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(TransactionProvider, \"Heq03QHe7VLFmcx1lESbX4q3a2s=\");\n_c = TransactionProvider;\nvar _c;\n$RefreshReg$(_c, \"TransactionProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","TransactionContext","TransactionProvider","children","_s","transactions","setTransactions","savedTransactions","localStorage","getItem","JSON","parse","setItem","stringify","addTransaction","transaction","prevTransactions","id","Date","now","deleteTransaction","filter","importTransactions","newTransactions","getBalance","reduce","acc","curr","amount","toFixed","processRecurringTransactions","today","toISOString","split","forEach","isRecurring","nextDate","newTransaction","date","frequency","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","interval","setInterval","clearInterval","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Daniel/Desktop/React-Project/myapp4/src/contexts/TransactionContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const TransactionContext = createContext();\r\n\r\nexport const TransactionProvider = ({ children }) => {\r\n  const [transactions, setTransactions] = useState(() => {\r\n    const savedTransactions = localStorage.getItem(\"transactions\");\r\n    return savedTransactions ? JSON.parse(savedTransactions) : [];\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"transactions\", JSON.stringify(transactions));\r\n  }, [transactions]);\r\n\r\n  const addTransaction = (transaction) => {\r\n    setTransactions((prevTransactions) => [\r\n      ...prevTransactions,\r\n      { ...transaction, id: Date.now() },\r\n    ]);\r\n  };\r\n\r\n  const deleteTransaction = (id) => {\r\n    setTransactions((prevTransactions) =>\r\n      prevTransactions.filter((transaction) => transaction.id !== id)\r\n    );\r\n  };\r\n\r\n  const importTransactions = (newTransactions) => {\r\n    setTransactions(newTransactions);\r\n  };\r\n\r\n  const getBalance = () => {\r\n    return transactions.reduce((acc, curr) => acc + curr.amount, 0).toFixed(2);\r\n  };\r\n\r\n  // Function to handle recurring transactions\r\n  const processRecurringTransactions = () => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    transactions.forEach(transaction => {\r\n      if (transaction.isRecurring && transaction.nextDate === today) {\r\n        // Create a new transaction for today\r\n        const newTransaction = {\r\n          ...transaction,\r\n          id: Date.now(),\r\n          date: today\r\n        };\r\n        addTransaction(newTransaction);\r\n\r\n        // Update the next date based on frequency\r\n        const nextDate = new Date(today);\r\n        switch (transaction.frequency) {\r\n          case 'daily':\r\n            nextDate.setDate(nextDate.getDate() + 1);\r\n            break;\r\n          case 'weekly':\r\n            nextDate.setDate(nextDate.getDate() + 7);\r\n            break;\r\n          case 'monthly':\r\n            nextDate.setMonth(nextDate.getMonth() + 1);\r\n            break;\r\n          case 'yearly':\r\n            nextDate.setFullYear(nextDate.getFullYear() + 1);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        transaction.nextDate = nextDate.toISOString().split('T')[0];\r\n      }\r\n    });\r\n  };\r\n\r\n  // Check for recurring transactions daily\r\n  useEffect(() => {\r\n    processRecurringTransactions();\r\n    const interval = setInterval(processRecurringTransactions, 24 * 60 * 60 * 1000);\r\n    return () => clearInterval(interval);\r\n  }, [transactions]);\r\n\r\n  return (\r\n    <TransactionContext.Provider\r\n      value={{\r\n        transactions,\r\n        addTransaction,\r\n        deleteTransaction,\r\n        importTransactions,\r\n        getBalance,\r\n      }}\r\n    >\r\n      {children}\r\n    </TransactionContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}