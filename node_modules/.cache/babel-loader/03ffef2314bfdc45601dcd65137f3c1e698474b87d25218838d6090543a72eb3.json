{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\React-Project\\\\myapp4\\\\src\\\\components\\\\DataManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { TransactionContext } from \"../contexts/TransactionContext\";\nimport { LocaleContext } from \"../contexts/LocaleContext\";\nimport { jsPDF } from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"./DataManager.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DataManager = () => {\n  _s();\n  const {\n    transactions,\n    importTransactions\n  } = useContext(TransactionContext);\n  const {\n    t\n  } = useContext(LocaleContext);\n  const [importError, setImportError] = useState(\"\");\n  const exportToJSON = () => {\n    const dataStr = JSON.stringify(transactions, null, 2);\n    const dataUri = `data:application/json;charset=utf-8,${encodeURIComponent(dataStr)}`;\n    const exportFileDefaultName = \"transactions.json\";\n    const linkElement = document.createElement(\"a\");\n    linkElement.setAttribute(\"href\", dataUri);\n    linkElement.setAttribute(\"download\", exportFileDefaultName);\n    linkElement.click();\n  };\n  const exportToCSV = () => {\n    const headers = [\"Type\", \"Description\", \"Amount\", \"Date\"];\n    const csvContent = [headers.join(\",\"), ...transactions.map(t => [t.type, t.description, t.amount, new Date(t.date).toLocaleDateString()].join(\",\"))].join(\"\\n\");\n    const dataUri = `data:text/csv;charset=utf-8,${encodeURIComponent(csvContent)}`;\n    const exportFileDefaultName = \"transactions.csv\";\n    const linkElement = document.createElement(\"a\");\n    linkElement.setAttribute(\"href\", dataUri);\n    linkElement.setAttribute(\"download\", exportFileDefaultName);\n    linkElement.click();\n  };\n  const exportToPDF = () => {\n    const doc = new jsPDF();\n    doc.text(\"Transaction History\", 14, 15);\n    const tableColumn = [\"Type\", \"Description\", \"Amount\", \"Date\"];\n    const tableRows = transactions.map(t => [t.type, t.description, t.amount, new Date(t.date).toLocaleDateString()]);\n    doc.autoTable({\n      head: [tableColumn],\n      body: tableRows,\n      startY: 20,\n      theme: \"grid\",\n      styles: {\n        fontSize: 8,\n        cellPadding: 2\n      },\n      headStyles: {\n        fillColor: [156, 39, 176],\n        textColor: 255\n      }\n    });\n    doc.save(\"transactions.pdf\");\n  };\n  const handleFileImport = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const data = JSON.parse(e.target.result);\n        if (Array.isArray(data)) {\n          importTransactions(data);\n          setImportError(\"\");\n        } else {\n          setImportError(\"Invalid data format\");\n        }\n      } catch (error) {\n        setImportError(\"Error importing file\");\n      }\n    };\n    reader.readAsText(file);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"data-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: t('dataManagement')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportToJSON,\n        children: t('exportJSON')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportToCSV,\n        children: t('exportCSV')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportToPDF,\n        children: t('exportPDF')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"import-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"import-file\",\n          className: \"import-label\",\n          children: t('importJSON')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"import-file\",\n          type: \"file\",\n          accept: \".json\",\n          onChange: handleFileImport,\n          className: \"import-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), importError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: importError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n_s(DataManager, \"FMRqUbok6UuCLt+uPKfEYps9XSM=\");\n_c = DataManager;\nexport default DataManager;\nvar _c;\n$RefreshReg$(_c, \"DataManager\");","map":{"version":3,"names":["React","useState","useContext","TransactionContext","LocaleContext","jsPDF","jsxDEV","_jsxDEV","DataManager","_s","transactions","importTransactions","t","importError","setImportError","exportToJSON","dataStr","JSON","stringify","dataUri","encodeURIComponent","exportFileDefaultName","linkElement","document","createElement","setAttribute","click","exportToCSV","headers","csvContent","join","map","type","description","amount","Date","date","toLocaleDateString","exportToPDF","doc","text","tableColumn","tableRows","autoTable","head","body","startY","theme","styles","fontSize","cellPadding","headStyles","fillColor","textColor","save","handleFileImport","event","file","target","files","reader","FileReader","onload","e","data","parse","result","Array","isArray","error","readAsText","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","htmlFor","id","accept","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Daniel/Desktop/React-Project/myapp4/src/components/DataManager.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { TransactionContext } from \"../contexts/TransactionContext\";\r\nimport { LocaleContext } from \"../contexts/LocaleContext\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport \"./DataManager.css\";\r\n\r\nconst DataManager = () => {\r\n  const { transactions, importTransactions } = useContext(TransactionContext);\r\n  const { t } = useContext(LocaleContext);\r\n  const [importError, setImportError] = useState(\"\");\r\n\r\n  const exportToJSON = () => {\r\n    const dataStr = JSON.stringify(transactions, null, 2);\r\n    const dataUri = `data:application/json;charset=utf-8,${encodeURIComponent(dataStr)}`;\r\n    const exportFileDefaultName = \"transactions.json\";\r\n\r\n    const linkElement = document.createElement(\"a\");\r\n    linkElement.setAttribute(\"href\", dataUri);\r\n    linkElement.setAttribute(\"download\", exportFileDefaultName);\r\n    linkElement.click();\r\n  };\r\n\r\n  const exportToCSV = () => {\r\n    const headers = [\"Type\", \"Description\", \"Amount\", \"Date\"];\r\n    const csvContent = [\r\n      headers.join(\",\"),\r\n      ...transactions.map((t) => [\r\n        t.type,\r\n        t.description,\r\n        t.amount,\r\n        new Date(t.date).toLocaleDateString(),\r\n      ].join(\",\")),\r\n    ].join(\"\\n\");\r\n\r\n    const dataUri = `data:text/csv;charset=utf-8,${encodeURIComponent(csvContent)}`;\r\n    const exportFileDefaultName = \"transactions.csv\";\r\n\r\n    const linkElement = document.createElement(\"a\");\r\n    linkElement.setAttribute(\"href\", dataUri);\r\n    linkElement.setAttribute(\"download\", exportFileDefaultName);\r\n    linkElement.click();\r\n  };\r\n\r\n  const exportToPDF = () => {\r\n    const doc = new jsPDF();\r\n    doc.text(\"Transaction History\", 14, 15);\r\n\r\n    const tableColumn = [\"Type\", \"Description\", \"Amount\", \"Date\"];\r\n    const tableRows = transactions.map((t) => [\r\n      t.type,\r\n      t.description,\r\n      t.amount,\r\n      new Date(t.date).toLocaleDateString(),\r\n    ]);\r\n\r\n    doc.autoTable({\r\n      head: [tableColumn],\r\n      body: tableRows,\r\n      startY: 20,\r\n      theme: \"grid\",\r\n      styles: {\r\n        fontSize: 8,\r\n        cellPadding: 2,\r\n      },\r\n      headStyles: {\r\n        fillColor: [156, 39, 176],\r\n        textColor: 255,\r\n      },\r\n    });\r\n\r\n    doc.save(\"transactions.pdf\");\r\n  };\r\n\r\n  const handleFileImport = (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        const data = JSON.parse(e.target.result);\r\n        if (Array.isArray(data)) {\r\n          importTransactions(data);\r\n          setImportError(\"\");\r\n        } else {\r\n          setImportError(\"Invalid data format\");\r\n        }\r\n      } catch (error) {\r\n        setImportError(\"Error importing file\");\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  return (\r\n    <div className=\"data-manager\">\r\n      <h2>{t('dataManagement')}</h2>\r\n      <div className=\"data-actions\">\r\n        <button onClick={exportToJSON}>{t('exportJSON')}</button>\r\n        <button onClick={exportToCSV}>{t('exportCSV')}</button>\r\n        <button onClick={exportToPDF}>{t('exportPDF')}</button>\r\n        <div className=\"import-section\">\r\n          <label htmlFor=\"import-file\" className=\"import-label\">\r\n            {t('importJSON')}\r\n          </label>\r\n          <input\r\n            id=\"import-file\"\r\n            type=\"file\"\r\n            accept=\".json\"\r\n            onChange={handleFileImport}\r\n            className=\"import-input\"\r\n          />\r\n        </div>\r\n      </div>\r\n      {importError && <div className=\"error-message\">{importError}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataManager; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}