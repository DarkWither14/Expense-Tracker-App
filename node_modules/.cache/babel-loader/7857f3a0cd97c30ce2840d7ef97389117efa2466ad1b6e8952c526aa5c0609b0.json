{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\React-Project\\\\myapp4\\\\src\\\\contexts\\\\TransactionContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TransactionContext = /*#__PURE__*/createContext();\nexport const TransactionProvider = ({\n  children\n}) => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const addTransaction = transaction => {\n    const newTransaction = {\n      ...transaction,\n      id: Date.now(),\n      amount: transaction.type === \"expense\" ? -Math.abs(transaction.amount) : Math.abs(transaction.amount)\n    };\n    setTransactions(prevTransactions => [...prevTransactions, newTransaction]);\n  };\n  const getBalance = () => {\n    return transactions.reduce((acc, curr) => acc + curr.amount, 0).toFixed(2);\n  };\n\n  // Function to handle recurring transactions\n  const processRecurringTransactions = () => {\n    const today = new Date().toISOString().split('T')[0];\n    transactions.forEach(transaction => {\n      if (transaction.isRecurring && transaction.nextDate === today) {\n        // Create a new transaction for today\n        const newTransaction = {\n          ...transaction,\n          id: Date.now(),\n          date: today\n        };\n        addTransaction(newTransaction);\n\n        // Update the next date based on frequency\n        const nextDate = new Date(today);\n        switch (transaction.frequency) {\n          case 'daily':\n            nextDate.setDate(nextDate.getDate() + 1);\n            break;\n          case 'weekly':\n            nextDate.setDate(nextDate.getDate() + 7);\n            break;\n          case 'monthly':\n            nextDate.setMonth(nextDate.getMonth() + 1);\n            break;\n          case 'yearly':\n            nextDate.setFullYear(nextDate.getFullYear() + 1);\n            break;\n          default:\n            break;\n        }\n        transaction.nextDate = nextDate.toISOString().split('T')[0];\n      }\n    });\n  };\n\n  // Check for recurring transactions daily\n  useEffect(() => {\n    processRecurringTransactions();\n    const interval = setInterval(processRecurringTransactions, 24 * 60 * 60 * 1000);\n    return () => clearInterval(interval);\n  }, [transactions]);\n  return /*#__PURE__*/_jsxDEV(TransactionContext.Provider, {\n    value: {\n      transactions,\n      addTransaction,\n      getBalance\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(TransactionProvider, \"tSC852gg/pAfbHr6jYEePbawnUU=\");\n_c = TransactionProvider;\nvar _c;\n$RefreshReg$(_c, \"TransactionProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","TransactionContext","TransactionProvider","children","_s","transactions","setTransactions","addTransaction","transaction","newTransaction","id","Date","now","amount","type","Math","abs","prevTransactions","getBalance","reduce","acc","curr","toFixed","processRecurringTransactions","today","toISOString","split","forEach","isRecurring","nextDate","date","frequency","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","interval","setInterval","clearInterval","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Daniel/Desktop/React-Project/myapp4/src/contexts/TransactionContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const TransactionContext = createContext();\r\n\r\nexport const TransactionProvider = ({ children }) => {\r\n  const [transactions, setTransactions] = useState([]);\r\n\r\n  const addTransaction = (transaction) => {\r\n    const newTransaction = {\r\n      ...transaction,\r\n      id: Date.now(),\r\n      amount: transaction.type === \"expense\" ? -Math.abs(transaction.amount) : Math.abs(transaction.amount)\r\n    };\r\n    setTransactions(prevTransactions => [...prevTransactions, newTransaction]);\r\n  };\r\n\r\n  const getBalance = () => {\r\n    return transactions.reduce((acc, curr) => acc + curr.amount, 0).toFixed(2);\r\n  };\r\n\r\n  // Function to handle recurring transactions\r\n  const processRecurringTransactions = () => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    transactions.forEach(transaction => {\r\n      if (transaction.isRecurring && transaction.nextDate === today) {\r\n        // Create a new transaction for today\r\n        const newTransaction = {\r\n          ...transaction,\r\n          id: Date.now(),\r\n          date: today\r\n        };\r\n        addTransaction(newTransaction);\r\n\r\n        // Update the next date based on frequency\r\n        const nextDate = new Date(today);\r\n        switch (transaction.frequency) {\r\n          case 'daily':\r\n            nextDate.setDate(nextDate.getDate() + 1);\r\n            break;\r\n          case 'weekly':\r\n            nextDate.setDate(nextDate.getDate() + 7);\r\n            break;\r\n          case 'monthly':\r\n            nextDate.setMonth(nextDate.getMonth() + 1);\r\n            break;\r\n          case 'yearly':\r\n            nextDate.setFullYear(nextDate.getFullYear() + 1);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        transaction.nextDate = nextDate.toISOString().split('T')[0];\r\n      }\r\n    });\r\n  };\r\n\r\n  // Check for recurring transactions daily\r\n  useEffect(() => {\r\n    processRecurringTransactions();\r\n    const interval = setInterval(processRecurringTransactions, 24 * 60 * 60 * 1000);\r\n    return () => clearInterval(interval);\r\n  }, [transactions]);\r\n\r\n  return (\r\n    <TransactionContext.Provider value={{ transactions, addTransaction, getBalance }}>\r\n      {children}\r\n    </TransactionContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElE,OAAO,MAAMC,kBAAkB,gBAAGL,aAAa,CAAC,CAAC;AAEjD,OAAO,MAAMM,mBAAmB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnD,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMU,cAAc,GAAIC,WAAW,IAAK;IACtC,MAAMC,cAAc,GAAG;MACrB,GAAGD,WAAW;MACdE,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACdC,MAAM,EAAEL,WAAW,CAACM,IAAI,KAAK,SAAS,GAAG,CAACC,IAAI,CAACC,GAAG,CAACR,WAAW,CAACK,MAAM,CAAC,GAAGE,IAAI,CAACC,GAAG,CAACR,WAAW,CAACK,MAAM;IACtG,CAAC;IACDP,eAAe,CAACW,gBAAgB,IAAI,CAAC,GAAGA,gBAAgB,EAAER,cAAc,CAAC,CAAC;EAC5E,CAAC;EAED,MAAMS,UAAU,GAAGA,CAAA,KAAM;IACvB,OAAOb,YAAY,CAACc,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACR,MAAM,EAAE,CAAC,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC;EAC5E,CAAC;;EAED;EACA,MAAMC,4BAA4B,GAAGA,CAAA,KAAM;IACzC,MAAMC,KAAK,GAAG,IAAIb,IAAI,CAAC,CAAC,CAACc,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACpDrB,YAAY,CAACsB,OAAO,CAACnB,WAAW,IAAI;MAClC,IAAIA,WAAW,CAACoB,WAAW,IAAIpB,WAAW,CAACqB,QAAQ,KAAKL,KAAK,EAAE;QAC7D;QACA,MAAMf,cAAc,GAAG;UACrB,GAAGD,WAAW;UACdE,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;UACdkB,IAAI,EAAEN;QACR,CAAC;QACDjB,cAAc,CAACE,cAAc,CAAC;;QAE9B;QACA,MAAMoB,QAAQ,GAAG,IAAIlB,IAAI,CAACa,KAAK,CAAC;QAChC,QAAQhB,WAAW,CAACuB,SAAS;UAC3B,KAAK,OAAO;YACVF,QAAQ,CAACG,OAAO,CAACH,QAAQ,CAACI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;YACxC;UACF,KAAK,QAAQ;YACXJ,QAAQ,CAACG,OAAO,CAACH,QAAQ,CAACI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;YACxC;UACF,KAAK,SAAS;YACZJ,QAAQ,CAACK,QAAQ,CAACL,QAAQ,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;YAC1C;UACF,KAAK,QAAQ;YACXN,QAAQ,CAACO,WAAW,CAACP,QAAQ,CAACQ,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;YAChD;UACF;YACE;QACJ;QACA7B,WAAW,CAACqB,QAAQ,GAAGA,QAAQ,CAACJ,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC7D;IACF,CAAC,CAAC;EACJ,CAAC;;EAED;EACA5B,SAAS,CAAC,MAAM;IACdyB,4BAA4B,CAAC,CAAC;IAC9B,MAAMe,QAAQ,GAAGC,WAAW,CAAChB,4BAA4B,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IAC/E,OAAO,MAAMiB,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACjC,YAAY,CAAC,CAAC;EAElB,oBACEL,OAAA,CAACC,kBAAkB,CAACwC,QAAQ;IAACC,KAAK,EAAE;MAAErC,YAAY;MAAEE,cAAc;MAAEW;IAAW,CAAE;IAAAf,QAAA,EAC9EA;EAAQ;IAAAwC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACkB,CAAC;AAElC,CAAC;AAAC1C,EAAA,CAhEWF,mBAAmB;AAAA6C,EAAA,GAAnB7C,mBAAmB;AAAA,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}